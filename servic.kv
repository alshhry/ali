#:kivy 1.8.0
#:import arabic_reshaper arabic_reshaper
#:import get_display bidi.algorithm.get_display

<homeScreen>
    
    nav_drawer2:nav_drawer2
    w1:w1
    iduser:iduser
    maillabel:maillabel
    MDScreen:
    #name: "login"
    #id:login_layout
    #md_bg_color:1,1,1,1
    Screen:           
        name: "home"    
        BoxLayout:
            orientation: 'vertical'
            MDTopAppBar:
                title: 'alialshhry.com'
                anchor_title: "left"
                padding:10,10
                font_name:'arial.ttf'
                left_action_items: [["menu", lambda x:nav_drawer2.set_state("open")  ]]
                pos_hint:{"center_x":.5,"center_y":.2}
                right_action_items:
                    [
                    ["dots-vertical", lambda x: nav_drawer2.set_state("open")],
                    #["clock", lambda x: app.callback()]
                    ["lock", lambda x: app.callback_close()]
                    ]
            MDLabel:        
        
                         
                                #root.addInfoToDB()    

        Widget:
        MDNavigationDrawer:
            id: nav_drawer2
            orientation: "vertical"
            anchor: "right"
            #panel_color: "#eeeaea"
            #AnchorLayout:
            #anchor_x: "left"
            #padding: "8dp"
            #spacing: "8dp"
            #    size_hint_y: None
            #height: avatar.height
                       
                #NavigationDrawerIconButton:
            BoxLayout:
                padding: 10,10,10,10
                spacing: 5
                halign: "center"
                size_hint: 1,0.3
                pos_hint: {"center_x": .5, "center_y": .4}  
                            
                orientation: "vertical" 
                
                MDNavigationDrawerMenu:
                    orientation: "vertical" 
                    MDNavigationDrawerHeader:
                        anchor: "center"
                        font_name: 'arial.ttf'
                        #title: "مرحبا بك"
                        title_color: "#4a4939"
                        text: "          alialshhry.com"
                        spacing: "1dp"
                        padding: "20dp", 0, 0, "56dp"
                        orientation: "vertical"
                        #padding: "8dp"
                        #spacing: "15"
                        halign: "center"
                        AnchorLayout:
                            anchor_x: "left"
                            #size_hint_y: None
                            height: avatar.height
                            halign: "center"
                              
                        Image:
                            id: avatar
                            size_hint: None, None
                            pos_hint: {"center_x": .50, "center_y": .5}
                            size: "56dp", "56dp"
                            source: "data/logo/kivy-icon-256.png"
                            halign: "center"                        
                            spacing: "15"
                        MDLabel:
                            
                            text: "alialshhry.com"
                            id:iduser
                            font_style: "Button"
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: "center"    
                            spacing: "15"
                        MDLabel:
                            id:maillabel
                            text: ""
                            font_style: "Caption"
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: "center"     
                            spacing: "15"
                        
                    #MDNavigationDrawerLabel:
                        #text: "Regster"

                    MDNavigationDrawerItem:
                        
                            
                        MDList:
                            padding: 10,10,10,0
                            spacing: 40
                            halign: "center"
                            size_hint: 1,0.3
                            pos_hint: {"center_x": .5, "center_y": .5}
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape('تعديل الملف الشخصي  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close")
                                    app.openprofile()
                                        #root.screen_manager.current = "scr 1"    
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' تسجيل الدخول  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                        #root.nav_drawer.set_state("close")  
                                    root.nav_drawer2.set_state("close")    
                                    app.login()
                                        
                                        #root.screen_manager.current = "scr 2"
                                        
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' الاعدادات   '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    #root.nav_drawer2.set_state("close")   
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' الرصيد الافتتاحي   '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close")
                                    app.raseedstart()
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' ابدأ الصرف    '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close")
                                    app.srfshow()        
        
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' تواصل معنا  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:app.tsgeelshow()


    BoxLayout:
        padding: 5,5,5,5
        spacing: 10
        halign: "center"
        size_hint: 1,0.3
        pos_hint: {"center_x": .5, "center_y": .1}             
        orientation: "vertical"         
        MDLabel:
            id: w1    
            pos_hint: {"center_x": .5, "center_y": .1}
            text: "      "                  
            halign: "center"
            #color: 0.204, 0.204, 0.204, 1
            font_name:'arial.ttf'
        MDLabel:
            id: iduser    
            pos_hint: {"center_x": .5, "center_y": .3}
            text: "      "                  
            halign: "center"    
            color: 0.204, 0.204, 0.204, 1

#:kivy 1.8.0
#:import arabic_reshaper arabic_reshaper
#:import get_display bidi.algorithm.get_display

<profileScreen>
    #nav_drawer2:nav_drawer2
    #raseed:raseed
    #raseed2:raseed2
    #msg:msg
    #usreid:usreid
    #mblgsrf:mblgsrf
    #byansrf:byansrf
    #datesrf:datesrf
    #raseedLhale:raseedLhale
    #aillabel:maillabel

    cbor:cbor
    pic:pic
    usernameInput: usernameInput
    emailInput: emailInput
    passwordInput: passwordInput
    nav_drawer2:nav_drawer2
    mobilenumInput: mobilenumInput
    lablek:lablek
    numser:numser
    MDScreen:
    #name: "login"
    #id:login_layout
    #md_bg_color:1,1,1,1
    Screen:           
        name: "profile"    
        BoxLayout:
            orientation: 'vertical'
            #padding: 30,30,30,30
            spacing: 8
            MDTopAppBar:
                title: 'alialshhry.com'
                anchor_title: "left"
                #padding:10,10
                font_name:'arial.ttf'
                left_action_items: [["menu", lambda x:nav_drawer2.set_state("open")  ]]
                pos_hint:{"center_x":.5,"center_y":.2}
                right_action_items:
                    [
                    ["dots-vertical", lambda x: nav_drawer2.set_state("open")],
                    #["clock", lambda x: app.callback()]
                    ["lock", lambda x: app.callback_close()]
                    ]
            MDLabel:        
            MDLabel:        
        MDCard:
            #padding:40,40
            id:cbor
            size_hint:None,None
            size: 320,450
            pos_hint:{"center_x":.5,"center_y":.5}
            elevation:1
            md_bg_color: 255,255,255,1
            #padding: ('30dp', '30dp', '30dp', '30dp')
            padding: ('20dp', '20dp', '20dp', '20dp')
            spacing: 4
            #spacing: 10  
            orientation: 'vertical'  
            MDCard:
                orientation: 'vertical'  
                #padding:10,10
                size_hint: None, None
                #size: "280dp", "180dp"
                #color:
                pos_hint: {"center_x": .5, "center_y": .5}
                #elevation: 15
                radius: 360
                color_active: 0, 0, 0, 1
                Image: #FitImage
                    size_hint: None, None
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size: "56dp", "56dp"
                    #source: "data/logo/kivy-icon-256.png"
                    halign: "center"                        
                    spacing: "15"
                    id: pic
                    center_x: self.parent.center_x
				    center_y: self.parent.center_y
                    
				#size: root.width, root.height
                #size_hint: None, None
                #size: self.width + 20, self.height + 20
                #pos: self.x - 10, self.y - 10
                #source: "i.jpeg"
                    source:""
 

 
                    size: 60,60
                #height: root.ids.cbor.height
                #text_left:"تعديل"
                Button:
                    text: get_display(arabic_reshaper.reshape('تعديل')) 
                    #size:1,1
                    size_hint_y: 0.4
                    font_name:"arial.ttf"
                    size_hint_y: 0.4
                    on_press:root.choose()
                MDLabel:
                    id:lablek
                    text:'images/box.png'
                    font_name:'arial.ttf'
                    halign: "center"  
            MDLabel:
                id:numser
                text:''   
                font_name:"arial.ttf" 
                text_language:"ar"           

            MDLabel:
                text: get_display(arabic_reshaper.reshape('اسم المستخدم '))
                font_name:'arial.ttf'
                halign: "center"    
            
            MDTextField:
                id:usernameInput
                font_name:'arial.ttf'
                pos_hint: {"center_x": .5, "center_y": .5}
                hint_text:"Enter username"
                readonly:'True'
                #hint_text:'ali'
                #ressh_sen=arabic_reshaper.reshape(re_text)
                #self.ids.mylabel.text =ressh_sen[::-1]

                
                #hint_text: "Mobile Number"
                mode: "rectangle"
                icon_right: "account"
                icon_left: "account"
                color_active: 1, 1, 1, 1
                icon_right_color: app.theme_cls.primary_color
                #input_filter:"floot"
                #font_name: "arial"
                            #on_press: #arabic_reshaper.reshape(usr)
                #on_text_validate: 
                #on_text:app.change_text
            MDLabel:
                text: get_display(arabic_reshaper.reshape('البريد الالكتروني '))    
                font_name:'arial.ttf'
                halign: "center"    
            MDTextField:
                id:emailInput
                readonly:'True'
                pos_hint: {"center_x": .5, "center_y": .5}
                hint_text: "Enter email"
                mode: "rectangle"
                icon_right: "email"
                icon_left: "email"
                color_active: 0, 0, 1, 1
                icon_right_color: app.theme_cls.primary_color
                            #on_press: app.arab()
                font_name:'arial.ttf'
                #on_text:app.d() 
            MDLabel:
                text: get_display(arabic_reshaper.reshape('رقم الجوال '))    
                font_name:'arial.ttf'
                halign: "center"                   #text:'علي'
            MDTextField:
                id:mobilenumInput
                pos_hint: {"center_x": .5, "center_y": .5}
                hint_text: "Enter mobileNumber"
                mode: "rectangle"
                icon_right: "phone"
                icon_left: "phone"
                color_active: 0, 0, 1, 1
                icon_right_color: app.theme_cls.primary_color
                            #on_press: app.arab()
                font_name:'arial.ttf'
                #on_text:app.d()            #text:'علي'    
            MDLabel:
                text: get_display(arabic_reshaper.reshape('كلمة المرور '))
                font_name:'arial.ttf'
                halign: "center"    
                        
            MDTextField:
                id:passwordInput
                pos_hint: {"center_x": .5, "center_y": .5}
                hint_text: "Enter Passowrd"
                mode: "rectangle"
                icon_right: "eye-off"
                password:True
                icon_left: "eye-off"
                color_active: 1, 1, 1, 1
                icon_right_color: app.theme_cls.primary_color    
     
            MDLabel:
                id:mylabel 
                text:''   
                font_name:"arial.ttf" 
                text_language:"ar"   
            MDRectangleFlatButton:
                text: get_display(arabic_reshaper.reshape('حفظ التعديلات'))
                height:"180dp"
                width:"350dp"
                #text: "  Regster    "
                            #text_color: 1, 1, 1, 1
                            #md_bg_color: 1, 1, 0, 1     
                pos_hint: {"center_x": .5, "center_y": .5}
                font_name:'arial.ttf'
                #on_press: root.on_text_validate()
                on_press: 
                    root.updateuser()  
                    #root.register()
                    #root.sent()
                    #root.insert() 
                         
                                #root.addInfoToDB()    
 
                                #root.addInfoToDB()    

            Widget:
        MDNavigationDrawer:
            id: nav_drawer2
            orientation: "vertical"
            anchor: "right"
            #panel_color: "#eeeaea"
            #AnchorLayout:
            #anchor_x: "left"
            padding: "8dp"
            spacing: "8dp"
            #    size_hint_y: None
            #height: avatar.height
                       
                #NavigationDrawerIconButton:
            BoxLayout:
                padding: 10,10,10,10
                spacing: 10
                halign: "center"
                size_hint: 1,0.3
                pos_hint: {"center_x": .5, "center_y": .5}  
                            
                orientation: "vertical" 
                
                MDNavigationDrawerMenu:
                    orientation: "vertical" 
                    MDNavigationDrawerHeader:
                        anchor: "center"
                        font_name: 'arial.ttf'
                        #title: "مرحبا بك"
                        title_color: "#4a4939"
                        text: "          alialshhry.com"
                        spacing: "4dp"
                        padding: "20dp", 0, 0, "56dp"
                        orientation: "vertical"
                        #padding: "8dp"
                        #spacing: "15"
                        halign: "center"
                        AnchorLayout:
                            anchor_x: "left"
                            #size_hint_y: None
                            height: avatar.height
                            halign: "center"
                              
                        Image:
                            id: avatar
                            size_hint: None, None
                            pos_hint: {"center_x": .50, "center_y": .5}
                            size: "56dp", "56dp"
                            source: "data/logo/kivy-icon-256.png"
                            halign: "center"                        
                            spacing: "15"
                        MDLabel:
                            id:maillabel
                            text: " "
                            font_style: "Button"
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: "center"    
                            spacing: "15"
                        MDLabel:
                            text: "kivydevelopment@gmail.com"
                            font_style: "Caption"
                            size_hint_y: None
                            height: self.texture_size[1]
                            halign: "center"     
                            spacing: "15"
                    #MDNavigationDrawerLabel:
                        #text: "Regster"

                    MDNavigationDrawerItem:
                        
                            
                        MDList:
                            padding: 10,10,10,0
                            spacing: 40
                            halign: "center"
                            size_hint: 1,0.3
                            pos_hint: {"center_x": .5, "center_y": .5}
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape('تعديل الملف الشخصي  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close")
                                    app.openscreen()
                                        #root.screen_manager.current = "scr 1"    
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' تسجيل الدخول  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                        #root.nav_drawer.set_state("close")  
                                    app.login()
                                    nav_drawer2.set_state("close")    
                                        #root.screen_manager.current = "scr 2"
                                        
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' الاعدادات   '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:

                                    nav_drawer2.set_state("close")    
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' ابدأ الصرف   '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close")
                                    app.srfshow()
        
        

                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' الرصيد الافتتاحي   '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    root.nav_drawer2.set_state("close") 
                                    app.raseedstart()
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' ابدأ الصرف    '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:
                                    app.srfshow()        
                                    root.nav_drawer2.set_state("close")
                            MDRoundFlatIconButton:
                                text: get_display(arabic_reshaper.reshape(' تواصل معنا  '))
                                icon: "android"
                                size_hint: 1,0.3
                                text_color: "black"
                                icon: "language-python"
                                pos_hint: {"center_x": .5, "center_y": .5}
                                font_name: 'arial.ttf' 
                                on_press:app.tsgeelshow()
                 